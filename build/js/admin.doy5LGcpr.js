(()=>{"use strict";var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},d:(e,a)=>{for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=jQuery;var a,n=t.n(e);n()(document).ready((function(){let t,e,a;t=n()("#markup"),e=n()("#height"),a=n()("#map"),t.updateMap(a,e.getMapHeight()),t.on("change keyup paste",(function(t){n()(this).updateMap(a,e.getMapHeight())})),e.changeMapHeight(),e.on("change keyup past",(function(){n()(this).changeMapHeight()}))})),(a=jQuery).fn.changeMapHeight=function(){let t=a(this).getMapHeight();a("#map").animate({height:t}),a("iframe").animate({height:t})},a.fn.updateMap=function(t,e){let n,i=a(this),h=i.val();setTimeout((function(){new Promise((function(t,e){n=a(h),void 0!==n&&n.length>0?t(n):e(new Error("Your entered markup is not valid."))})).then((function(a){let n=PMPRUtil.getSettingByPath("map.title");a.removeAttr("width").addClass("w-100 d-block").attr("height",e).attr("title",n).removeAttr("frameborder"),t.html(a),i.val(t.html())})).catch((function(e){t.html(e)}))}),300)},a.fn.getMapHeight=function(){let t=PMPRUtil.getSettingByPath("map"),e=Number(a(this).val());return e<t.minHeight?e=t.minHeight:e>t.maxHeight&&(e=t.maxHeight),e}})();